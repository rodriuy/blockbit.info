<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Legado de Martin Luther King Jr.</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Tone.js for Audio -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>

    <style>
        /* Asignación de fuentes y colores base */
        :root {
            --color-background: #f4f4f5; /* zinc-200 */
            --color-text: #18181b; /* zinc-900 */
            --color-accent: #3b82f6; /* blue-500 */
            --color-light-text: #52525b; /* zinc-600 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-background);
            color: var(--color-text);
        }
        h1, h2, h3, h4 {
            font-family: 'Anton', sans-serif;
            letter-spacing: 0.05em;
        }

        /* --- Animaciones y Utilidades --- */
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-up.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* --- Hero Section --- */
        .hero-bg {
            background-image: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 60%, rgba(0,0,0,0.8) 100%), url('https://images.unsplash.com/photo-1601001815192-16b39c085953?q=80&w=1887&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .scroll-down-arrow {
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-15px); }
            60% { transform: translateY(-8px); }
        }

        /* --- Sección de Anatomía (Timeline) --- */
        .timeline-item {
            position: relative;
            padding-left: 2.5rem; /* Espacio para la línea y el punto */
            padding-bottom: 3rem;
            border-left: 2px solid #d4d4d8; /* zinc-300 */
        }
        .timeline-item:last-child {
            border-left: 2px solid transparent;
        }
        .timeline-dot {
            position: absolute;
            left: -10px; /* Centra el punto en la línea */
            top: 4px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--color-background);
            border: 4px solid var(--color-accent);
            transform: scale(0);
            transition: transform 0.5s ease-out;
        }
        .timeline-item.is-visible .timeline-dot {
            transform: scale(1);
        }
        
        /* --- Sección Antítesis (Accordion) --- */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
        }
        .accordion-item.active .accordion-content {
            max-height: 200px; /* Altura suficiente para el contenido */
            padding-top: 1rem;
        }
        .accordion-item.active .accordion-icon {
            transform: rotate(45deg);
        }
        .accordion-icon {
            transition: transform 0.3s ease-in-out;
        }

        /* --- Estilos para Text-to-Speech (TTS) --- */
        .tts-button {
            background: none;
            border: none;
            cursor: pointer;
            color: #a1a1aa; /* zinc-400 */
            transition: color 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 4px;
            border-radius: 50%;
        }
        .tts-button:hover {
            color: var(--color-accent);
            background-color: #e2e8f0; /* slate-200 */
        }
        .tts-button.active {
            color: var(--color-accent);
            animation: pulse-tts 1.5s infinite;
        }
        @keyframes pulse-tts {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }

    </style>
</head>
<body class="overflow-x-hidden">

    <!-- Controles de Audio -->
    <div id="audio-controls" class="fixed bottom-4 right-4 z-50">
        <button id="play-pause-button" class="w-14 h-14 rounded-full flex items-center justify-center text-white bg-blue-500 hover:bg-blue-600 transition-colors shadow-lg">
            <!-- Icono Play -->
            <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            <!-- Icono Pausa -->
            <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        </button>
    </div>

    <!-- 1. Sección de Inicio: El Sueño -->
    <section id="inicio" class="h-screen flex flex-col items-center justify-center text-center text-white p-4 hero-bg">
        <div class="fade-in-up text-container">
            <h1 class="text-6xl md:text-8xl lg:text-9xl font-bold uppercase tracking-wider mb-4 text-shadow-lg">Tengo un Sueño</h1>
            <p class="max-w-2xl mx-auto text-lg md:text-xl text-zinc-300">
                La historia de un ministro y activista que se convirtió en la voz del movimiento por los derechos civiles.
            </p>
        </div>
        <a href="#filosofia" class="absolute bottom-10 scroll-down-arrow">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
            </svg>
        </a>
    </section>

    <!-- 2. Sección de Filosofía: La No Violencia -->
    <section id="filosofia" class="py-24 md:py-32 overflow-hidden">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <div class="inline-flex items-center gap-x-3 text-container">
                    <h2 class="text-4xl md:text-6xl text-blue-500 mb-4 fade-in-up">RESISTENCIA PACÍFICA</h2>
                    <button class="tts-button fade-in-up" aria-label="Leer título en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                <div class="inline-flex items-center gap-x-3 text-container">
                    <p class="max-w-3xl mx-auto text-lg md:text-xl text-zinc-600 fade-in-up" style="transition-delay: 0.2s;">
                        Luchó por la igualdad racial y la justicia social a través de la no violencia y la desobediencia civil, oponiéndose a la segregación.
                    </p>
                    <button class="tts-button fade-in-up" style="transition-delay: 0.2s;" aria-label="Leer párrafo en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
            </div>
            <div class="md:grid md:grid-cols-5 gap-12 items-center">
                <!-- Imagen -->
                <div class="md:col-span-2 mb-12 md:mb-0 fade-in-up">
                    <img src="MLK.png" alt="Martin Luther King Jr. en una conferencia" class="rounded-lg shadow-2xl w-full h-auto">
                </div>
                <!-- Cita -->
                <div class="md:col-span-3 max-w-4xl p-8 bg-white rounded-lg shadow-xl fade-in-up text-container" style="transition-delay: 0.2s;">
                    <p class="text-2xl md:text-4xl italic text-zinc-800 leading-relaxed text-center">
                        “La oscuridad no puede expulsar a la oscuridad; solo la luz puede hacer eso. El odio no puede expulsar al odio; solo el amor puede hacer eso.”
                    </p>
                    <div class="text-center mt-4">
                        <button class="tts-button" aria-label="Leer cita en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 2.5. Sección Interactiva: La Anatomía de un Sueño -->
    <section id="dream-anatomy" class="py-24 md:py-32 bg-zinc-800 text-white">
        <div class="container mx-auto px-6 text-center">
            <div class="inline-flex items-center gap-x-3 text-container">
                <h2 class="text-4xl md:text-6xl text-blue-500 mb-16 fade-in-up">La Anatomía de un Sueño</h2>
                <button class="tts-button !text-zinc-300 hover:!text-blue-500 fade-in-up" aria-label="Leer título en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
            </div>
            <div class="max-w-md mx-auto">
                <!-- Timeline -->
                <div class="timeline-item fade-in-up text-container">
                    <div class="timeline-dot"></div>
                    <h3 class="text-2xl md:text-3xl font-bold mb-2">Igualdad</h3>
                    <p class="text-zinc-400">"Sueño que mis cuatro hijos vivirán en una nación donde no serán juzgados por el color de su piel."</p>
                    <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                <div class="timeline-item fade-in-up text-container">
                    <div class="timeline-dot"></div>
                    <h3 class="text-2xl md:text-3xl font-bold mb-2">Justicia</h3>
                    <p class="text-zinc-400">"La injusticia en cualquier lugar es una amenaza para la justicia en todas partes."</p>
                     <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                 <div class="timeline-item fade-in-up text-container">
                    <div class="timeline-dot"></div>
                    <h3 class="text-2xl md:text-3xl font-bold mb-2">No Violencia</h3>
                    <p class="text-zinc-400">"Es un arma poderosa y justa, que corta sin herir y ennoblece a quien la empuña."</p>
                     <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                <div class="timeline-item fade-in-up text-container">
                    <div class="timeline-dot"></div>
                    <h3 class="text-2xl md:text-3xl font-bold mb-2">Libertad</h3>
                    <p class="text-zinc-400">"¡Dejen resonar la libertad! Cuando lo permitamos, aceleraremos la llegada de ese día."</p>
                     <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. Sección Interactiva: La Antítesis del Sueño -->
    <section id="antitesis" class="py-24 md:py-32">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                 <div class="inline-flex items-center gap-x-3 text-container">
                    <h2 class="text-4xl md:text-6xl text-blue-500 mb-4 fade-in-up">La Antítesis del Sueño</h2>
                    <button class="tts-button fade-in-up" aria-label="Leer título en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                <div class="inline-flex items-center gap-x-3 text-container">
                    <p class="text-lg md:text-xl text-zinc-600 max-w-2xl mx-auto fade-in-up" style="transition-delay: 0.2s;">
                        Algunas barreras que enfrentó su visión. Haz clic en cada una para revelar la verdad de su lucha.
                    </p>
                    <button class="tts-button fade-in-up" style="transition-delay: 0.2s;" aria-label="Leer párrafo en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
            </div>
            <div class="max-w-3xl mx-auto space-y-4">
                <!-- Accordion Item 1 -->
                <div class="accordion-item bg-white p-6 rounded-lg shadow-lg fade-in-up text-container" style="transition-delay: 0.4s;">
                    <button class="accordion-header w-full flex justify-between items-center text-left">
                        <h3 class="text-xl md:text-2xl font-bold">"Deberías expresarte pacíficamente"</h3>
                        <div class="accordion-icon w-8 h-8 flex-shrink-0 flex items-center justify-center text-blue-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                        </div>
                    </button>
                    <div class="accordion-content">
                        <p class="text-zinc-600">Su movimiento fue pacífico, pero nunca silencioso. La desobediencia civil fue su herramienta para desafiar leyes injustas y forzar el diálogo.</p>
                    </div>
                </div>
                <!-- Accordion Item 2 -->
                <div class="accordion-item bg-white p-6 rounded-lg shadow-lg fade-in-up text-container" style="transition-delay: 0.5s;">
                    <button class="accordion-header w-full flex justify-between items-center text-left">
                        <h3 class="text-xl md:text-2xl font-bold">"Los radicales no son aceptados"</h3>
                        <div class="accordion-icon w-8 h-8 flex-shrink-0 flex items-center justify-center text-blue-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                        </div>
                    </button>
                    <div class="accordion-content">
                        <p class="text-zinc-600">Fue considerado radical por exigir un cambio fundamental. Su causa se basaba en la justicia, no en la violencia.</p>
                    </div>
                </div>
                <!-- Accordion Item 3 -->
                <div class="accordion-item bg-white p-6 rounded-lg shadow-lg fade-in-up text-container" style="transition-delay: 0.6s;">
                    <button class="accordion-header w-full flex justify-between items-center text-left">
                        <h3 class="text-xl md:text-2xl font-bold">"No luches por derechos que no mereces"</h3>
                         <div class="accordion-icon w-8 h-8 flex-shrink-0 flex items-center justify-center text-blue-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                        </div>
                    </button>
                    <div class="accordion-content">
                        <p class="text-zinc-600">Luchó por derechos inalienables para toda la humanidad. Creía que la dignidad humana no es negociable.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. Nueva Sección: Injusticia Epistémica -->
    <section id="injusticia-epistemica" class="py-24 md:py-32 bg-zinc-800 text-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <div class="inline-flex items-center gap-x-3 text-container">
                    <h2 class="text-4xl md:text-6xl text-blue-500 mb-4 fade-in-up">INJUSTICIA EPISTÉMICA</h2>
                     <button class="tts-button !text-zinc-300 hover:!text-blue-500 fade-in-up" aria-label="Leer título en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                 <div class="text-container">
                    <p class="text-lg md:text-xl text-zinc-400 max-w-3xl mx-auto fade-in-up" style="transition-delay: 0.2s;">
                        La capacidad de King para ser considerado un "conocedor" fue disminuida. Su voz, experiencia y conocimiento como hombre negro fueron sistemáticamente deslegitimados.
                    </p>
                     <div class="text-center mt-2">
                        <button class="tts-button !text-zinc-300 hover:!text-blue-500 fade-in-up" style="transition-delay: 0.2s;" aria-label="Leer párrafo en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Agente 1: Gobierno -->
                <div class="bg-zinc-700 p-6 rounded-lg text-center fade-in-up text-container" style="transition-delay: 0.3s;">
                    <div class="flex justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12.255A9 9 0 1112.245 3 9 9 0 0121 12.255z" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m-9-9h1m16 0h1M5.636 5.636l1.414 1.414m10.607 10.607l1.414 1.414M5.636 18.364l1.414-1.414m10.607-10.607l1.414-1.414" /></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">El Gobierno (FBI)</h3>
                    <p class="text-zinc-400">Lo vigilaban, investigaban y amenazaban, tratando de invalidar su liderazgo y su mensaje.</p>
                    <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                <!-- Agente 2: Medios -->
                <div class="bg-zinc-700 p-6 rounded-lg text-center fade-in-up text-container" style="transition-delay: 0.4s;">
                    <div class="flex justify-center mb-4">
                       <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 12h6m-1 8h.01" /></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Medios Públicos</h3>
                    <p class="text-zinc-400">Fomentaban la indignación racista, presentando su lucha por la justicia como una amenaza.</p>
                    <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                <!-- Agente 3: Otros Movimientos -->
                <div class="bg-zinc-700 p-6 rounded-lg text-center fade-in-up text-container" style="transition-delay: 0.5s;">
                    <div class="flex justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Otros Movimientos</h3>
                    <p class="text-zinc-400">Recibió críticas de activistas más jóvenes que consideraban su método no violento como pasivo.</p>
                     <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
                <!-- Agente 4: Políticos -->
                <div class="bg-zinc-700 p-6 rounded-lg text-center fade-in-up text-container" style="transition-delay: 0.6s;">
                    <div class="flex justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M12 14l9-5-9-5-9 5 9 5z" /><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14z" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20M1 14.5L12 21l11-6.5" /></svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">El Establishment Político</h3>
                    <p class="text-zinc-400">Aunque algunos lo apoyaban, lo presionaban para que moderara sus protestas y su discurso.</p>
                     <button class="tts-button !text-zinc-300 hover:!text-blue-500 mt-2" aria-label="Leer sección en voz alta"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z" /></svg></button>
                </div>
            </div>
        </div>
    </section>


    <!-- 5. Sección de Legado y Cierre -->
    <footer id="legado" class="py-20 bg-zinc-900 text-white">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl md:text-5xl text-blue-500 mb-6">El Eco de su Voz</h2>
            <p class="max-w-3xl mx-auto text-lg text-zinc-400 mb-12">
                El legado de Martin Luther King Jr. trasciende el tiempo. Su lucha por la igualdad continúa inspirando a nuevas generaciones a alzar la voz contra la opresión.
            </p>
            <div class="mt-12 pt-8 border-t border-zinc-700">
                <h4 class="text-xl font-bold text-blue-500 mb-2">MARTIN LUTER KING JR.</h4>
                <p class="text-zinc-300">Felicia Millan • Belén Vianna • Rodrigo Rodríguez</p>
                <p class="text-zinc-400 mt-2">Liceo Departamental Juan Gómez Gotuzzo</p>
            </div>
        </div>
    </footer>

    <script>
        // --- Lógica de Audio con Tone.js ---
        let musicPlaying = false;
        let audioInitialized = false;

        const playPauseButton = document.getElementById('play-pause-button');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        
        const synthMusic = new Tone.PolySynth(Tone.Synth, {
            oscillator: { type: 'fatsawtooth' },
            envelope: { attack: 0.1, decay: 0.2, sustain: 0.5, release: 0.8 }
        }).toDestination();
        synthMusic.volume.value = -18;

        const melody = new Tone.Sequence((time, note) => {
            synthMusic.triggerAttackRelease(note, '8n', time);
        }, ['C3', ['E3', 'G3'], 'G3', 'C4', 'E4', ['G4', 'C4'], 'E4', 'C4'], '4n');
        melody.loop = true;

        async function toggleMusic() {
            if (!audioInitialized) {
                await Tone.start();
                audioInitialized = true;
            }
            if (Tone.Transport.state !== 'started') {
                Tone.Transport.start();
                melody.start(0);
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            } else {
                Tone.Transport.stop();
                melody.stop();
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        }
        playPauseButton.addEventListener('click', toggleMusic);

        // --- Lógica para Animaciones al scrollear ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, { threshold: 0.2 });

        document.querySelectorAll('.fade-in-up, .timeline-item').forEach(el => {
            observer.observe(el);
        });
        
        // --- Lógica para el Accordion ---
        const accordionItems = document.querySelectorAll('.accordion-item');
        const clickSound = new Tone.MembraneSynth({
            pitchDecay: 0.05, octaves: 10, envelope: { attack: 0.001, decay: 0.4, sustain: 0.01, release: 1.4}
        }).toDestination();
        clickSound.volume.value = -10;

        accordionItems.forEach(item => {
            const header = item.querySelector('.accordion-header');
            header.addEventListener('click', () => {
                // Se necesita audio context para el sonido del click
                if (!audioInitialized) {
                    Tone.start();
                    audioInitialized = true;
                }
                clickSound.triggerAttackRelease("C2", "8n");
                
                const isActive = item.classList.contains('active');
                accordionItems.forEach(i => i.classList.remove('active'));
                if (!isActive) {
                    item.classList.add('active');
                }
            });
        });

        // --- Lógica para Text-to-Speech (TTS) ---
        const synthTTS = window.speechSynthesis;
        let currentlySpeaking = null;

        document.querySelectorAll('.tts-button').forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // Evita que se active el acordeón si está dentro de uno
                
                const textContainer = button.closest('.text-container');
                if (!textContainer) return;

                const textToSpeak = textContainer.innerText.trim();
                
                if (currentlySpeaking === button && synthTTS.speaking) {
                    synthTTS.cancel(); // Detiene la lectura si se presiona el mismo botón
                } else {
                    synthTTS.cancel(); // Detiene cualquier lectura anterior
                    const utterance = new SpeechSynthesisUtterance(textToSpeak);
                    utterance.lang = 'es-LA'; // Español de Latinoamérica
                    
                    utterance.onstart = () => {
                        document.querySelectorAll('.tts-button.active').forEach(b => b.classList.remove('active'));
                        button.classList.add('active');
                        currentlySpeaking = button;
                    };
                    
                    utterance.onend = () => {
                        button.classList.remove('active');
                        currentlySpeaking = null;
                    };

                    utterance.onerror = () => {
                         button.classList.remove('active');
                        currentlySpeaking = null;
                    }
                    
                    synthTTS.speak(utterance);
                }
            });
        });
        
        // Detener TTS si se reproduce la música de fondo y viceversa
        playPauseButton.addEventListener('click', () => {
            if (synthTTS.speaking) {
                synthTTS.cancel();
            }
        });

    </script>
</body>
</html>

